# Логистический интерфейс управления маршрутами

Приложение для управления логистическими заказами с интерактивной картой и фильтрацией данных.

## Технологии

- Vue 3 (Composition API)
- TypeScript
- Pinia (управление состоянием)
- Axios (HTTP-запросы)
- MapLibre GL (интерактивная карта)
- Tailwind CSS (стилизация)
- Vite (сборка)

## Архитектура

Проект построен по методологии **Feature-Sliced Design (FSD)**:

```
src/
├── app/           # Инициализация приложения
├── pages/         # Страницы приложения
│   └── orders/    # Страница управления заказами
├── widgets/       # Композитные блоки
│   ├── map/       # Виджет карты с маршрутами
│   └── orders-table/ # Виджет таблицы заказов
├── features/      # Функциональные возможности
│   ├── order-filter/  # Фильтрация заказов
│   └── order-edit/    # Редактирование заказа
├── entities/      # Бизнес-сущности
│   └── order/     # Сущность заказа (типы, store, API)
└── shared/        # Переиспользуемые компоненты и утилиты
```

## Основной функционал

### Карта маршрутов
- Отображение маркеров для точек погрузки (синие) и выгрузки (зелёные)
- Popup с информацией о заказе при клике на маркер
- Построение маршрутов между выбранными точками

### Таблица заказов
- Отображение всех заказов с полной информацией
- Выбор до 2 заказов для построения маршрута
- Подсветка выбранных заказов
- Клик по строке открывает модальное окно редактирования

### Фильтрация
- По статусу (Новый / В пути / Доставлен)
- По диапазону дат
- По городу (поиск в городах отправки и доставки)
- Все фильтры работают без перезагрузки страницы

### Редактирование заказа
- Модальное окно с формой
- Изменение статуса, даты и веса
- Сохранение в Pinia store
- Уведомление об успешном сохранении

## Построение маршрута

Маршрут строится как примитивная линия (LineString) между координатами точек погрузки и выгрузки выбранных заказов. Используется MapLibre GL с GeoJSON источником данных. При изменении выбора заказов маршрут автоматически перерисовывается.

## Установка и запуск

### Требования
- Node.js >= 18
- npm или yarn

### Установка зависимостей

```bash
npm install
```

### Запуск в режиме разработки

```bash
npm run dev
```

Приложение будет доступно по адресу `http://localhost:5173`


## Структура данных

Заказы загружаются из `/public/mock/orders.json`:

```json
{
  "id": 5021,
  "sender_city": "Москва",
  "receiver_city": "Казань",
  "pickup": { "lat": 55.7512, "lng": 37.6184 },
  "delivery": { "lat": 55.7887, "lng": 49.1221 },
  "status": "Новый",
  "date": "2024-04-11",
  "weight": 15
}
```
